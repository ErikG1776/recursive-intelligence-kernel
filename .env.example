# ============================================================================
# RIK Environment Configuration Template
# ============================================================================
# Copy this file to .env and customize for your environment
# cp .env.example .env
#
# Then update values below for your deployment
# ============================================================================

# ----------------------------------------------------------------------------
# ENVIRONMENT
# ----------------------------------------------------------------------------
RIK_ENV=development  # development, staging, production
RIK_DEBUG=true

# ----------------------------------------------------------------------------
# API SERVER
# ----------------------------------------------------------------------------
RIK_API_HOST=0.0.0.0
RIK_API_PORT=8000
RIK_API_WORKERS=1  # Increase for production (2x CPU cores)
RIK_API_RELOAD=true  # Hot reload in development

# ----------------------------------------------------------------------------
# DATABASE
# ----------------------------------------------------------------------------
RIK_DATABASE_URL=sqlite:///data/memory.db
# For production, use PostgreSQL:
# RIK_DATABASE_URL=postgresql://user:password@localhost:5432/rik_db

RIK_DATABASE_POOL_SIZE=5
RIK_DATABASE_MAX_OVERFLOW=10

RIK_DATABASE_BACKUP_ENABLED=false
RIK_DATABASE_BACKUP_INTERVAL_HOURS=24

# ----------------------------------------------------------------------------
# SECURITY
# ----------------------------------------------------------------------------

# API Key Authentication
RIK_API_KEY_ENABLED=false  # Set to true in production!
RIK_API_KEYS=  # Comma-separated list: key1,key2,key3
# Example: RIK_API_KEYS=rik_dev_abc123,rik_prod_xyz789

# Rate Limiting (requests per period)
RIK_RATE_LIMIT_ENABLED=true
RIK_RATE_LIMIT_REQUESTS=100  # 100 requests
RIK_RATE_LIMIT_PERIOD=60     # per 60 seconds

# CORS (Cross-Origin Resource Sharing)
RIK_CORS_ENABLED=true
RIK_CORS_ORIGINS=*  # In production: https://yourdomain.com,https://app.yourdomain.com

# ----------------------------------------------------------------------------
# BUSINESS RULES - INVOICE PROCESSING
# ----------------------------------------------------------------------------

# Amount thresholds (in USD or your currency)
RIK_AUTO_APPROVE_THRESHOLD=5000.0   # Auto-approve under this amount
RIK_REQUIRE_PO_OVER=10000.0         # Always require PO over this amount

# Trusted vendors (comma-separated, exact names)
RIK_TRUSTED_VENDORS=Acme Corporation,Microsoft Corporation,Amazon Web Services,Google LLC,Salesforce Inc

# Vendor name matching (0.0 to 1.0, higher = stricter)
RIK_VENDOR_SIMILARITY_THRESHOLD=0.85  # 85% similarity for typo detection

# ----------------------------------------------------------------------------
# LOGGING
# ----------------------------------------------------------------------------

RIK_LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
RIK_LOG_FORMAT=json  # json or text (json recommended for production)

# Log to file
RIK_LOG_FILE_ENABLED=false
RIK_LOG_FILE=logs/rik.log
RIK_LOG_FILE_MAX_BYTES=10485760  # 10MB
RIK_LOG_FILE_BACKUP_COUNT=5

# ----------------------------------------------------------------------------
# MEMORY & REASONING
# ----------------------------------------------------------------------------

# Memory retrieval
RIK_MEMORY_RETRIEVAL_LIMIT=10        # Number of past episodes to retrieve
RIK_MEMORY_SIMILARITY_THRESHOLD=0.3  # Minimum similarity to consider relevant

# Episode consolidation (optional, reduces memory size)
RIK_MEMORY_CONSOLIDATION_ENABLED=false
RIK_MEMORY_CONSOLIDATION_INTERVAL_HOURS=24

# Reasoning confidence thresholds
RIK_REASONING_MIN_CONFIDENCE=0.7           # Minimum to make decision
RIK_REASONING_AUTO_APPROVE_CONFIDENCE=0.8  # Minimum to auto-approve

# ----------------------------------------------------------------------------
# MONITORING & METRICS
# ----------------------------------------------------------------------------

RIK_METRICS_ENABLED=true
RIK_HEALTH_CHECK_ENABLED=true

# ----------------------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------------------

RIK_FEATURE_INVOICE_PROCESSING=true
RIK_FEATURE_SELECTOR_RECOVERY=true
RIK_FEATURE_MEMORY_LEARNING=true

# ============================================================================
# DEPLOYMENT NOTES
# ============================================================================
#
# Development:
#   - Keep RIK_DEBUG=true
#   - Keep RIK_API_KEY_ENABLED=false (for easier testing)
#   - Use SQLite database
#
# Production:
#   - Set RIK_ENV=production
#   - Set RIK_DEBUG=false
#   - Set RIK_API_KEY_ENABLED=true
#   - Generate secure API keys: openssl rand -hex 32
#   - Use PostgreSQL database
#   - Set RIK_LOG_FILE_ENABLED=true
#   - Increase RIK_API_WORKERS to 2x CPU cores
#   - Restrict RIK_CORS_ORIGINS to your domains
#
# Staging:
#   - Set RIK_ENV=staging
#   - Use separate database from production
#   - Enable API keys
#   - Test with production-like settings
#
# ============================================================================
